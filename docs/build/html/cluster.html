
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>StarCluster &#8212; clustertools 0.1.dev1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="sub_cluster" href="api/clustertools.analysis.cluster.sub_cluster.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/clustertools.analysis.cluster.sub_cluster.html" title="sub_cluster"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">clustertools 0.1.dev1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">StarCluster</a><ul>
<li><a class="reference internal" href="#module-clustertools.analysis.cluster">clustertools.analysis.cluster Module</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api/clustertools.analysis.cluster.sub_cluster.html"
                        title="next chapter">sub_cluster</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cluster.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="starcluster">
<h1>StarCluster<a class="headerlink" href="#starcluster" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> class is the foundation on which ‘’clustertools’’ has been built. All functions have been designed to either act on or use elements of <cite>StarCluster`</cite>. Its purpose is to be a python representation of a star cluster, based on either a snapshot provided by a simulation or a distribution function. At minimum, a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> contains the positions and velocities of all stars in a star cluster. However, <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> has been designed to store all information related to the cluster’s orbit, Single Star Evolution, Binary Star Evolution, and metadata related to the software used to generate the data and/or the data file it was read from. Once initiated, <code class="docutils literal notranslate"><span class="pre">clustertools</span></code> is able to perform a large number of operations, measurements, and calculations on the <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> class.</p>
<p>To initialize a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code>, one can simply start with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">clustertools</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">=</span><span class="n">StarCluster</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> accepts additional optional arguments, each of which have defaults. They are the current time (<code class="docutils literal notranslate"><span class="pre">tphys=0</span></code>), the units (<code class="docutils literal notranslate"><span class="pre">units=None</span></code>) and origin (<code class="docutils literal notranslate"><span class="pre">origin=None</span></code>) of the coordinate systemm and the name of the code used to genereate the dataset <code class="docutils literal notranslate"><span class="pre">ctype</span></code>. The units and origin variables only need to be specified if unit or coordinate trannsformations are going to be done (see <a class="reference internal" href="units_and_coordinate_systems.html#units-and-coordinate-systems"><span class="std std-ref">Units and Coordinate Systems</span></a> for more information). The code type <code class="docutils literal notranslate"><span class="pre">ctype</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">'snapshot'</span></code>, but can be set to <code class="docutils literal notranslate"><span class="pre">'nbody6'</span></code>,``’nbody6se’<code class="docutils literal notranslate"><span class="pre">,</span></code>’gyrfalcon’<code class="docutils literal notranslate"><span class="pre">,</span> <span class="pre">or</span> <span class="pre">``'amuse'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'clustertools'</span></code> for reading in snapshots generated by <code class="docutils literal notranslate"><span class="pre">clustertools</span></code>. <code class="docutils literal notranslate"><span class="pre">ctype</span></code> informs the <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> of the input files format. See <a class="reference internal" href="initialize.html#load-or-setup"><span class="std std-ref">Load or Setup</span></a> for more informatoin on how <code class="docutils literal notranslate"><span class="pre">ctype</span></code> is used. Other keywords accepted when initializing a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> can be found in the complete documentation (see StarCluster).</p>
<p>Once a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> is initialized, there are a large number of arrays and variables that correspond to individual stars, global properties of the cluster, and information related to the software used to generate the data (see SOMEWHERE for the complete list). However, several functions have then been written to more easily populate <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> with information and carry out helpful calculations. They are:</p>
<ul class="simple">
<li><p>add_stars</p></li>
<li><p>add_orbit</p></li>
<li><p>add_nbody6</p></li>
<li><p>add_sse</p></li>
<li><p>add_bse</p></li>
<li><p>add_energies</p></li>
<li><p>add_actions</p></li>
<li><p>rv3d</p></li>
<li><p>key_params</p></li>
</ul>
<div class="section" id="module-clustertools.analysis.cluster">
<span id="clustertools-analysis-cluster-module"></span><h2>clustertools.analysis.cluster Module<a class="headerlink" href="#module-clustertools.analysis.cluster" title="Permalink to this headline">¶</a></h2>
<p>The StarCluster class and key internal functions</p>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="reference/clustertools.analysis.cluster.html#clustertools.analysis.cluster.sub_cluster" title="clustertools.analysis.cluster.sub_cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sub_cluster</span></code></a>(cluster[, rmin, rmax, mmin, …])</p></td>
<td><p>NAME:</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="reference/clustertools.analysis.cluster.html#clustertools.analysis.cluster.StarCluster" title="clustertools.analysis.cluster.StarCluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StarCluster</span></code></a>([ntot, tphys, units, origin, ctype])</p></td>
<td><p>NAME:</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">add_stars</span></code> function is the intended way to actually add stars to <code class="docutils literal notranslate"><span class="pre">cluster</span></code>. Assuming stellar positions (x,y,z) and velocities (vx,vy,vz) have already been read in via a snapshot, one can call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_stars</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">vx</span><span class="p">,</span><span class="n">vy</span><span class="p">,</span><span class="n">vz</span><span class="p">,</span><span class="n">do_key_params</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">do_order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">add_stars</span></code> as opposed to setting variables like <code class="docutils literal notranslate"><span class="pre">cluster.x</span></code> mantually ensures that <code class="docutils literal notranslate"><span class="pre">cluster.rv3d</span></code> is automatically called and the three dimensional radius (<code class="docutils literal notranslate"><span class="pre">cluster.r</span></code>) and velocity (<code class="docutils literal notranslate"><span class="pre">cluster.v</span></code>) of each star is calculated. By default, projected radii (<code class="docutils literal notranslate"><span class="pre">cluster.rpro</span></code>) and velocities (<code class="docutils literal notranslate"><span class="pre">cluster.vpro</span></code>) are also calculated assuming the x-y plane is the plane of the sky. However this option can be turned off via <code class="docutils literal notranslate"><span class="pre">cluster.projected=False</span></code> or using the keyword <code class="docutils literal notranslate"><span class="pre">projected=False</span></code> when initializing the <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code>.</p>
<p>It is also possible to include stellar masses <code class="docutils literal notranslate"><span class="pre">m</span></code> and ids <code class="docutils literal notranslate"><span class="pre">id</span></code> if they are known via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_stars</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">vx</span><span class="p">,</span><span class="n">vy</span><span class="p">,</span><span class="n">vz</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="nb">id</span><span class="p">,</span><span class="n">do_key_params</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">do_order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Otherwise, masses will be set to 1 and ids will simply be set to integer values between 1 and the number of stars in the cluster.</p>
<p>Finally, using <code class="docutils literal notranslate"><span class="pre">add_stars</span></code> results in <code class="docutils literal notranslate"><span class="pre">cluster.ntot</span></code> being recalculated. Hence if the total number of stars is not initially known when <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> is first initialized, or perhaps changes, <code class="docutils literal notranslate"><span class="pre">cluster.ntot</span></code> is adjusted accordingly.</p>
<p>Two other features in <code class="docutils literal notranslate"><span class="pre">add_stars</span></code> that are by default set to <code class="docutils literal notranslate"><span class="pre">False</span></code> are <code class="docutils literal notranslate"><span class="pre">do_order</span></code> and <code class="docutils literal notranslate"><span class="pre">do_key_params</span></code> for computational efficiency. Setting <code class="docutils literal notranslate"><span class="pre">do_key_params=True</span></code> will cause the total mass <code class="docutils literal notranslate"><span class="pre">cluster.mtot</span></code>, mean mass <code class="docutils literal notranslate"><span class="pre">cluster.mmean</span></code>, mean radius <code class="docutils literal notranslate"><span class="pre">cluster.meanr</span></code>, and maximum radius <code class="docutils literal notranslate"><span class="pre">cluster.rmax</span></code> to be calculated. If <code class="docutils literal notranslate"><span class="pre">do_order=True</span></code>, then stars will be sorted based on their distance from the origin (information stored in <code class="docutils literal notranslate"><span class="pre">cluster.rorder</span></code>) and the half-mass radius <code class="docutils literal notranslate"><span class="pre">rm</span></code> and 10% Lagrange radius <code class="docutils literal notranslate"><span class="pre">r10</span></code> will be calculated as well. Alternatively, one can call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">key_params</span><span class="p">(</span><span class="n">do_order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>at a later point in time.</p>
<p>If the cluster’s galactocentric positiion (xgc,ygc,zgc) and velocity (vxgc,vygc,vzgc) are known, then orbital information can be added via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_orbit</span><span class="p">(</span><span class="n">xgc</span><span class="p">,</span><span class="n">ygc</span><span class="p">,</span><span class="n">zgc</span><span class="p">,</span><span class="n">vxgc</span><span class="p">,</span><span class="n">vygc</span><span class="p">,</span><span class="n">vzgc</span><span class="p">)</span>
</pre></div>
</div>
<p>It is beneficial to use <code class="docutils literal notranslate"><span class="pre">add_orbit</span></code> as opposed to setting variables like <code class="docutils literal notranslate"><span class="pre">cluster.xgc</span></code> manually is reflected in the additional arguments that can be passed. These arguments, and their default values, include <code class="docutils literal notranslate"><span class="pre">ounits=None</span></code>, <code class="docutils literal notranslate"><span class="pre">initialize=False</span></code>, <code class="docutils literal notranslate"><span class="pre">ro=8.</span></code>, and <code class="docutils literal notranslate"><span class="pre">vo=220.</span></code>. <code class="docutils literal notranslate"><span class="pre">ounits</span></code> informs <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> of the units of the galactocentric coordinates that are being provided. If they differ from <code class="docutils literal notranslate"><span class="pre">cluster.units</span></code>, the unit conversion will be handled internally. <code class="docutils literal notranslate"><span class="pre">intialize</span></code> is an example of how strongly <code class="docutils literal notranslate"><span class="pre">clustertools</span></code> relies on <code class="docutils literal notranslate"><span class="pre">galpy</span></code>, for if <code class="docutils literal notranslate"><span class="pre">intialize=True</span></code> a <code class="docutils literal notranslate"><span class="pre">galpy</span></code> orbit is initialized using the galactocentric coordinates provided and both ro (distance from vantage point to the cluster (kpc)) and vo (the circular velocity at ro (km/s)). The <code class="docutils literal notranslate"><span class="pre">galpy</span></code> orbit can be accessed via <code class="docutils literal notranslate"><span class="pre">cluster.orbit</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">add_nbody6</span></code>, <code class="docutils literal notranslate"><span class="pre">add_sse</span></code>, and <code class="docutils literal notranslate"><span class="pre">add_bse</span></code> are tailored to the standard output from <code class="docutils literal notranslate"><span class="pre">NBODY6</span></code> (REFERENCE). They are simple functions of convenience for adding information that <code class="docutils literal notranslate"><span class="pre">NBODY6</span></code> provides regarding the simulations itself, single star evolution, and binary star evolution. They would be called via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_nbody6</span><span class="p">(</span><span class="n">nc</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">rbar</span><span class="p">,</span> <span class="n">rtide</span><span class="p">,</span> <span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">zc</span><span class="p">,</span> <span class="n">zmbar</span><span class="p">,</span> <span class="n">vstar</span><span class="p">,</span> <span class="n">rscale</span><span class="p">,</span> <span class="n">nsbnd</span><span class="p">,</span> <span class="n">nbbnd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_sse</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">logl</span><span class="p">,</span> <span class="n">logr</span><span class="p">,</span> <span class="n">ep</span><span class="p">,</span> <span class="n">ospin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_bse</span><span class="p">(</span><span class="n">id1</span><span class="p">,</span><span class="n">id2</span><span class="p">,</span><span class="n">kw1</span><span class="p">,</span><span class="n">kw2</span><span class="p">,</span><span class="n">kcm</span><span class="p">,</span><span class="n">ecc</span><span class="p">,</span><span class="n">pb</span><span class="p">,</span><span class="n">semi</span><span class="p">,</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">,</span><span class="n">logl1</span><span class="p">,</span><span class="n">logl2</span><span class="p">,</span><span class="n">logr1</span><span class="p">,</span><span class="n">logr2</span><span class="p">,</span><span class="n">ep1</span><span class="p">,</span><span class="n">ep2</span><span class="p">,</span><span class="n">ospin1</span><span class="p">,</span><span class="n">ospin2</span><span class="p">)</span>
</pre></div>
</div>
<p>For those not familiar with <code class="docutils literal notranslate"><span class="pre">NBODY6</span></code>, please consult the documention for <code class="docutils literal notranslate"><span class="pre">add_nbody6</span></code>, <code class="docutils literal notranslate"><span class="pre">add_sse</span></code>, and <code class="docutils literal notranslate"><span class="pre">add_bse</span></code> for the defintion of each variable. It is important to note that each of the above variables are intialized with upon the initialization of <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code>, hence they can be set manually as well if you are using a code other than <code class="docutils literal notranslate"><span class="pre">NBODY6</span></code> and would like to define some of these parameters. Note, no units or origin are associated with any of the values provided via <code class="docutils literal notranslate"><span class="pre">add_nbody6</span></code>, <code class="docutils literal notranslate"><span class="pre">add_sse</span></code>, and <code class="docutils literal notranslate"><span class="pre">add_bse</span></code> such that they are not adjusted when unit and coordinate transformations are performed.</p>
<p>One variable that is worth expanding on is the <code class="docutils literal notranslate"><span class="pre">kw</span></code> parameter. Motivated by NBODY6, each star’s stellar evolution type is described by <code class="docutils literal notranslate"><span class="pre">kw</span></code>. The below table illustrates what each <code class="docutils literal notranslate"><span class="pre">kw</span></code> integer represents. If you need to quickly lookup this table, it can be printed to screen using the function <code class="docutils literal notranslate"><span class="pre">kwtypes()</span></code> (See <a class="reference internal" href="utilities.html#utilities"><span class="std std-ref">Utilities</span></a>).</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Table 1 - Relationship between <code class="docutils literal notranslate"><span class="pre">kw</span></code> and stellar evolution type, as per NBODY6</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>KW</p></th>
<th class="head"><p>Stellar Evolution Types</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Low main sequence (M &lt; 0.7).</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Main sequence.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Hertzsprung gap (HG).</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Red giant.</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Core Helium burning.</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>First AGB.</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Second AGB.</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Helium main sequence.</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Helium HG.</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>Helium GB.</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>Helium white dwarf.</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>Carbon-Oxygen white dwarf.</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>Oxygen-Neon white dwarf.</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>Neutron star.</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>Black hole.</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>Massless supernova remnant.</p></td>
</tr>
</tbody>
</table>
<p>It is important to note that if stellar luminosities (<code class="docutils literal notranslate"><span class="pre">logl</span></code>) have been provided, calling <code class="docutils literal notranslate"><span class="pre">cluster.key_params</span></code> will also calculate the half-light radius of the cluster <code class="docutils literal notranslate"><span class="pre">cluster.rh</span></code> and the radius containing 10% of the light <code class="docutils literal notranslate"><span class="pre">cluster.rh10</span></code>. Similar to <code class="docutils literal notranslate"><span class="pre">cluster.rv3d</span></code>, by default the projected half-light radius <code class="docutils literal notranslate"><span class="pre">cluster.rhpro</span></code> and the projected radius containing 10% of the light <code class="docutils literal notranslate"><span class="pre">cluster.rh10pro</span></code> are calculated as well.</p>
<p><code class="docutils literal notranslate"><span class="pre">add_energies</span></code> is slightly more than a convenience function, because if the kinetic energy (kin), potential energy (pot), and total energy (etot) of each star added to <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_energies</span><span class="p">(</span><span class="n">kin</span><span class="p">,</span> <span class="n">pot</span><span class="p">,</span> <span class="n">etot</span><span class="p">)</span>
</pre></div>
</div>
<p>then the total kinetic energy (<code class="docutils literal notranslate"><span class="pre">cluster.ektot</span></code>) and total potential energy (<code class="docutils literal notranslate"><span class="pre">cluster.ptot</span></code>) are calculated. Additional, the virial parameter Qvir is also calcualted and can be accessed via <code class="docutils literal notranslate"><span class="pre">cluster.qvir</span></code>.</p>
<p>Orbit actions must be added via <code class="docutils literal notranslate"><span class="pre">add_actions</span></code> because the associated variables are not created when a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> is initialized. Hence once the actions JR, Jphi, and Jz have been calculated they can be added to the cluster via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_actions</span><span class="p">(</span><span class="n">JR</span><span class="p">,</span> <span class="n">Jphi</span><span class="p">,</span> <span class="n">Jz</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that it is also possible to add orbital frequencies and periods by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">add_actions</span><span class="p">(</span><span class="n">JR</span><span class="p">,</span> <span class="n">Jphi</span><span class="p">,</span> <span class="n">Jz</span><span class="p">,</span> <span class="n">OR</span><span class="p">,</span> <span class="n">Ophi</span><span class="p">,</span> <span class="n">Oz</span><span class="p">,</span> <span class="n">TR</span><span class="p">,</span> <span class="n">Tphi</span><span class="p">,</span> <span class="n">Tz</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, it is also possible within <code class="docutils literal notranslate"><span class="pre">clustertools</span></code> to extract a subset of stars from a <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> to form a new <code class="docutils literal notranslate"><span class="pre">StarCluster</span></code> using the <code class="docutils literal notranslate"><span class="pre">sub_cluster</span></code> function. For example, to extrct only stars within the cluster’s half-mass radius one can call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_cluster</span><span class="o">=</span><span class="n">ctools</span><span class="o">.</span><span class="n">sub_cluster</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span><span class="n">rmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">rmax</span><span class="o">=</span><span class="n">cluster</span><span class="o">.</span><span class="n">rm</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">new_cluster</span></code> will contain all the same information as <code class="docutils literal notranslate"><span class="pre">cluster</span></code> but only for stars within <code class="docutils literal notranslate"><span class="pre">cluster.rm</span></code>. Please consult the <code class="docutils literal notranslate"><span class="pre">sub_cluster</span></code> documentation for the complete list of criteria that can be given to <code class="docutils literal notranslate"><span class="pre">sub_cluster</span></code>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/clustertools.analysis.cluster.sub_cluster.html" title="sub_cluster"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">clustertools 0.1.dev1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Jeremy J. Webb.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>