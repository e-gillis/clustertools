
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>nbodypy.main package &#8212; nbodypy 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="nbodypy-main-package">
<h1>nbodypy.main package<a class="headerlink" href="#nbodypy-main-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nbodypy.main.cluster">
<span id="nbodypy-main-cluster-module"></span><h2>nbodypy.main.cluster module<a class="headerlink" href="#module-nbodypy.main.cluster" title="Permalink to this headline">¶</a></h2>
<p>CLUSTER</p>
<p>The StarCluster classes and key internal functions</p>
<dl class="class">
<dt id="nbodypy.main.cluster.StarCluster">
<em class="property">class </em><code class="sig-prename descclassname">nbodypy.main.cluster.</code><code class="sig-name descname">StarCluster</code><span class="sig-paren">(</span><em class="sig-param">ntot=0</em>, <em class="sig-param">tphys=0.0</em>, <em class="sig-param">units=None</em>, <em class="sig-param">origin=None</em>, <em class="sig-param">ctype='snapshot'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class representing a star cluster</p>
<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_actions">
<code class="sig-name descname">add_actions</code><span class="sig-paren">(</span><em class="sig-param">JR</em>, <em class="sig-param">Jphi</em>, <em class="sig-param">Jz</em>, <em class="sig-param">OR</em>, <em class="sig-param">Ophi</em>, <em class="sig-param">Oz</em>, <em class="sig-param">TR</em>, <em class="sig-param">Tphi</em>, <em class="sig-param">Tz</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_actions</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add action angle values to the cluster instance</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>JR,Jphi,Jz,OR,Ophi,Oz,TR,Tphi,Tz</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_bse">
<code class="sig-name descname">add_bse</code><span class="sig-paren">(</span><em class="sig-param">id1</em>, <em class="sig-param">id2</em>, <em class="sig-param">kw1</em>, <em class="sig-param">kw2</em>, <em class="sig-param">kcm</em>, <em class="sig-param">ecc</em>, <em class="sig-param">pb</em>, <em class="sig-param">semi</em>, <em class="sig-param">m1</em>, <em class="sig-param">m2</em>, <em class="sig-param">logl1</em>, <em class="sig-param">logl2</em>, <em class="sig-param">logr1</em>, <em class="sig-param">logr2</em>, <em class="sig-param">ep1</em>, <em class="sig-param">ep2</em>, <em class="sig-param">ospin1</em>, <em class="sig-param">ospin2</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_bse" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_bse</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add binary star evolution information to stars
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>parameters are common output variables in NBODY6</p></li>
<li><p>values are never adjusted during unit or coordinate changes</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>id1/id2 - id of star1 and star2</p>
<p>kw1/kw2 - stellar evolution tags (for using with NBODY6)</p>
<p>kcm - stellar evolution tag for binary star</p>
<p>ecc - eccentricity of binary orbit</p>
<p>pb - period of binary orbit</p>
<p>semi - semi major axis of binary orbit</p>
<p>m1/m2 - masses of binary stars</p>
<p>logl1/logl2 - luminosities of binary stars</p>
<p>logr1/logr2 - radii of binary stars</p>
<p>ep1/ep2 - epochs of binary stars</p>
<p>ospin1/ospin2 - opsin of binary stars</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_energies">
<code class="sig-name descname">add_energies</code><span class="sig-paren">(</span><em class="sig-param">kin</em>, <em class="sig-param">pot</em>, <em class="sig-param">etot</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_energies" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_energies</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add energy information to stars and calculate total energy and Q for the cluster
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>values are never adjusted during unit or coordinate changes</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>kin - kinetic energy</p>
<p>pot - potentail energy</p>
<p>etot - total energy</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_nbody6">
<code class="sig-name descname">add_nbody6</code><span class="sig-paren">(</span><em class="sig-param">nc=0</em>, <em class="sig-param">rc=0.0</em>, <em class="sig-param">rbar=1.0</em>, <em class="sig-param">rtide=0.0</em>, <em class="sig-param">xc=0.0</em>, <em class="sig-param">yc=0.0</em>, <em class="sig-param">zc=0.0</em>, <em class="sig-param">zmbar=1.0</em>, <em class="sig-param">vstar=1.0</em>, <em class="sig-param">rscale=1.0</em>, <em class="sig-param">ns=0.0</em>, <em class="sig-param">nb=0.0</em>, <em class="sig-param">np=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_nbody6" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_nbody6</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>For data generated using NBDOY6 (or one of its variants), add additional information from output files</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>nc - number of stars in core (default:0)</p>
<p>rc - core radius (default:0)</p>
<p>rbar - scaling factor between NBODY units and pc (default:1.)</p>
<p>rtide - rtide set in the simulation (default:0)</p>
<p>xc,yc,zc - position of cluster centre (default:0)</p>
<p>zmbar - scaling factor between NBODY units and Msun (default:1.)</p>
<p>vstar - scaling factor between NBODY units and km/s (default:1.)</p>
<p>rscale - the scale radius of data (default:1.)</p>
<p>ns - number of single stars (default:0)</p>
<p>nb - number of binary stars (default:0)</p>
<p>np - number of particles (default:0)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_orbit">
<code class="sig-name descname">add_orbit</code><span class="sig-paren">(</span><em class="sig-param">xgc</em>, <em class="sig-param">ygc</em>, <em class="sig-param">zgc</em>, <em class="sig-param">vxgc</em>, <em class="sig-param">vygc</em>, <em class="sig-param">vzgc</em>, <em class="sig-param">ounits=None</em>, <em class="sig-param">radec=False</em>, <em class="sig-param">initialize=False</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_orbit</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add orbital information of the star cluster
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>the input units are assumed to be equal that of self.units</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>xgc,ygc,zgc - cluster’s galactocentric position</p>
<p>vxgc,vygc,vzgc - cluster’s galactocentric velocity</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_rotation">
<code class="sig-name descname">add_rotation</code><span class="sig-paren">(</span><em class="sig-param">qrot</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_rotation</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Introduce a degree of rotation into the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>qrot - Degree of rotation, such that qrot% of stars with negative v_theta are switched positive</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_se">
<code class="sig-name descname">add_se</code><span class="sig-paren">(</span><em class="sig-param">kw</em>, <em class="sig-param">logl</em>, <em class="sig-param">logr</em>, <em class="sig-param">ep</em>, <em class="sig-param">ospin</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_se" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_se</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add stellar evolution information to stars
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>parameters are common output variables in NBODY6</p></li>
<li><p>values are never adjusted during unit or coordinate changes</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>kw - stellar evolution tag (for using with NBODY6)</p>
<p>logl - log of luminosity</p>
<p>logr - log of stellar radius</p>
<p>ep - epoch</p>
<p>ospin - ospin</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.add_stars">
<code class="sig-name descname">add_stars</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">m</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">z</em>, <em class="sig-param">vx</em>, <em class="sig-param">vy</em>, <em class="sig-param">vz</em>, <em class="sig-param">do_key_params=False</em>, <em class="sig-param">do_order=False</em>, <em class="sig-param">radec=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.add_stars" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_stars</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add stars to the StarCluster instance</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>id - star id</p>
<p>m - mass</p>
<p>x,y,z - positions</p>
<p>vx,vy,vz - velocities</p>
<p>kw - stellar evolution tag (optional,for using with NBODY6) (default:0)</p>
<p>do_key_params - call key_params() after adding stars (default: False)</p>
<blockquote>
<div><p>do_key_params - order stars by radius when calling key_params() (default: False)</p>
<p>radec - If true, input is m,ra,dec,dist,pmra,pmdec,vlos with units of (degrees, kpc, mas, km/s)</p>
</div></blockquote>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.alpha_prof">
<code class="sig-name descname">alpha_prof</code><span class="sig-paren">(</span><em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">mcorr=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.alpha_prof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.calc_actions">
<code class="sig-name descname">calc_actions</code><span class="sig-paren">(</span><em class="sig-param">pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], r0=8.0, v0=220.0, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.calc_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.energies">
<code class="sig-name descname">energies</code><span class="sig-paren">(</span><em class="sig-param">specific=True</em>, <em class="sig-param">i_d=None</em>, <em class="sig-param">full=True</em>, <em class="sig-param">parallel=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.energies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.eta_function">
<code class="sig-name descname">eta_function</code><span class="sig-paren">(</span><em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.eta_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.find_centre">
<code class="sig-name descname">find_centre</code><span class="sig-paren">(</span><em class="sig-param">xstart=0.0</em>, <em class="sig-param">ystart=0.0</em>, <em class="sig-param">zstart=0.0</em>, <em class="sig-param">vxstart=0.0</em>, <em class="sig-param">vystart=0.0</em>, <em class="sig-param">vzstart=0.0</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">nsigma=1.0</em>, <em class="sig-param">nsphere=100</em>, <em class="sig-param">density=True</em>, <em class="sig-param">rmin=0.1</em>, <em class="sig-param">nmax=100</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.find_centre" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>find_centre</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find the centre of mass of the cluster
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The routine first works to identify a sphere of nsphere stars around the centre in which</p></li>
</ul>
<p>to perform the C.O.M calculation. This step prevents long tidal tails from affecting the
calculation</p>
</div></blockquote>
</div></blockquote>
<dl>
<dt>INPUT:</dt><dd><p>xstart,ystart,zstart - starting position for centre
vxstart,vystart,vzstart - starting velocity for centre
indx - subset of stars to use when finding center
nsigma - number of standard deviations to within which to keep stars
nsphere - number of stars in centre sphere (default:100)
density - use Yohai Meiron’s centre of density calculator instead (Default: True)
if density:</p>
<blockquote>
<div><ul class="simple">
<li><p>rmin - minimum radius to start looking for stars</p></li>
<li><p>nmax - maximum number of iterations to find centre</p></li>
</ul>
</div></blockquote>
<p>r0,v0 - For converting to and from galpy units (Default: 8., 220.)</p>
</dd>
</dl>
<p>OUTPUT:</p>
<blockquote>
<div><p>xc,yc,zc,vxc,vyc,vzc - coordinates of centre of mass</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.find_centre_of_density">
<code class="sig-name descname">find_centre_of_density</code><span class="sig-paren">(</span><em class="sig-param">xstart=0.0</em>, <em class="sig-param">ystart=0.0</em>, <em class="sig-param">zstart=0.0</em>, <em class="sig-param">vxstart=0.0</em>, <em class="sig-param">vystart=0.0</em>, <em class="sig-param">vzstart=0.0</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">rmin=0.1</em>, <em class="sig-param">nmax=100</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.find_centre_of_density" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>find_centre_of_density</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find the centre of density of the cluster
Notes - the general framework for this code was taken from Yohai Meiron,
who made a python adaptation of the centre of density finder in PhiGrape</p>
</div></blockquote>
<dl class="simple">
<dt>INPUT:</dt><dd><p>xstart,ystart,zstart - starting position for centre
vxstart,vystart,vzstart - starting velocity for centre
rmin - minimum radius of sphere around which to estimate density centre (default: 0.1 pc)
nmax - maximum number of iterations (default:100)</p>
</dd>
</dl>
<p>OUTPUT:</p>
<blockquote>
<div><p>xc,yc,zc,vxc,vyc,vzc - coordinates of centre of mass</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)
- with kudos to Yohai Meiron (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.find_centre_of_mass">
<code class="sig-name descname">find_centre_of_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.find_centre_of_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>find_centre_of_mass</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find the centre of mass of the cluster</p>
</div></blockquote>
<dl class="simple">
<dt>INPUT:</dt><dd><p>None</p>
</dd>
</dl>
<p>OUTPUT:</p>
<blockquote>
<div><p>xc,yc,zc,vxc,vyc,vzc - coordinates of centre of mass</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.from_sky">
<code class="sig-name descname">from_sky</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.from_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_sky</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate galactocentric coordinates from on-sky position, proper motion, and radial velocity of cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>x,y,z,vx,vy,vz</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.key_params">
<code class="sig-name descname">key_params</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.key_params" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>key_params</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find key parameters of the cluster (mass,luminosity,r10,r50,rh10,rh50)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>do_order - Perform the time consuming task of ordering stars based on radius to find r10,r50, etc. (default:False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.mass_function">
<code class="sig-name descname">mass_function</code><span class="sig-paren">(</span><em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">mcorr=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.mass_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.rlagrange">
<code class="sig-name descname">rlagrange</code><span class="sig-paren">(</span><em class="sig-param">nlagrange=10</em>, <em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.rlagrange" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.rlimiting">
<code class="sig-name descname">rlimiting</code><span class="sig-paren">(</span><em class="sig-param">pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], rgc=None, r0=8.0, v0=220.0, nrad=20, projected=False, obs_cut=False, plot=False, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.rlimiting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.rtidal">
<code class="sig-name descname">rtidal</code><span class="sig-paren">(</span><em class="sig-param">pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], rtiterate=0, rgc=None, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.rtidal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.rvirial">
<code class="sig-name descname">rvirial</code><span class="sig-paren">(</span><em class="sig-param">H=70.0</em>, <em class="sig-param">Om=0.3</em>, <em class="sig-param">overdens=200.0</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.rvirial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_centre">
<code class="sig-name descname">to_centre</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em>, <em class="sig-param">orthographic=False</em>, <em class="sig-param">VandeVen=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_centre" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_centre</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Shift coordinates such that origin is the centre of mass</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_cluster">
<code class="sig-name descname">to_cluster</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em>, <em class="sig-param">orthographic=False</em>, <em class="sig-param">VandeVen=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Shift coordinates to clustercentric reference frame</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>do_order - re-sort cluster radii (default: False)</p>
<p>do_key_params - call key_params after shift (default: False)</p>
<p>orthographic - shift to orthographic coordinates</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_galaxy">
<code class="sig-name descname">to_galaxy</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_galaxy" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_galaxy</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Shift coordinates to galactocentric reference frame</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_galpy">
<code class="sig-name descname">to_galpy</code><span class="sig-paren">(</span><em class="sig-param">do_key_params=True</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_galpy" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_galpy</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert stellar positions/velocities, centre of mass, and orbital position and velocity to galpy units</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_nbody">
<code class="sig-name descname">to_nbody</code><span class="sig-paren">(</span><em class="sig-param">do_key_params=True</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_nbody" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_nbody</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert stellar positions/velocities, centre of mass, and orbital position and velocity to Nbody units
Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>requires that self.zmbar, self.rbar, self.vstar are set (defaults are 1 in add_nbody6)</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_origin">
<code class="sig-name descname">to_origin</code><span class="sig-paren">(</span><em class="sig-param">origin</em>, <em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_origin</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Shift cluster to origin as defined by keyword</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>origin - accepts ‘cluster’,’centre’,’galaxy’</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_realkpc">
<code class="sig-name descname">to_realkpc</code><span class="sig-paren">(</span><em class="sig-param">do_key_params=True</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_realkpc" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_realkpc</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert stellar positions/velocities, centre of mass, and orbital position and velocity to kpc and km/s</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_realpc">
<code class="sig-name descname">to_realpc</code><span class="sig-paren">(</span><em class="sig-param">do_key_params=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_realpc" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_realpc</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert stellar positions/velocities, centre of mass, and orbital position and velocity to pc and km/s</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_sky">
<code class="sig-name descname">to_sky</code><span class="sig-paren">(</span><em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_sky</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate on-sky position, proper motion, and radial velocity of cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>ra,dec,dist,pmra,pmdec,vlos</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_tail">
<code class="sig-name descname">to_tail</code><span class="sig-paren">(</span><em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_tail" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_tail</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate positions and velocities of stars when rotated such that clusters velocity vector
points along x-axis</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>x_rot,y_rot,z_rot,vx_rot,vy_rot,vz_rot</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.to_units">
<code class="sig-name descname">to_units</code><span class="sig-paren">(</span><em class="sig-param">units</em>, <em class="sig-param">do_key_params=True</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.to_units" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>to_units</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert stellar positions/velocities, centre of mass, and orbital position and velocity to user defined units</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>units - ‘nbody’,’realpc’,’realkpc’,’galpy’</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.vcirc_prof">
<code class="sig-name descname">vcirc_prof</code><span class="sig-paren">(</span><em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.vcirc_prof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nbodypy.main.cluster.StarCluster.virial_radius">
<code class="sig-name descname">virial_radius</code><span class="sig-paren">(</span><em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.StarCluster.virial_radius" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nbodypy.main.cluster.TestDocStringCluster">
<em class="property">class </em><code class="sig-prename descclassname">nbodypy.main.cluster.</code><code class="sig-name descname">TestDocStringCluster</code><span class="sig-paren">(</span><em class="sig-param">ntot=0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.TestDocStringCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A one-line summary that does not use variable names.</p>
<p>Several sentences providing an extended description. Refer to
variables using back-ticks, e.g. <cite>var</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var1</strong> (<em>array_like</em>) – Array_like means all those objects – lists, nested lists, etc. –
that can be converted to an array.  We can also refer to
variables like <cite>var1</cite>.</p></li>
<li><p><strong>var2</strong> (<em>int</em>) – The type above can either refer to an actual Python type
(e.g. <code class="docutils literal notranslate"><span class="pre">int</span></code>), or describe the type of the variable in more
detail, e.g. <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">array_like</span></code>.</p></li>
<li><p><strong>long_var_name</strong> (<em>{‘hi’, ‘ho’}, optional</em>) – Choices in brackets, default first when optional.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>type</em> – Explanation of anonymous return value of type <code class="docutils literal notranslate"><span class="pre">type</span></code>.</p></li>
<li><p><strong>describe</strong> (<em>type</em>) – Explanation of return value named <cite>describe</cite>.</p></li>
<li><p><strong>out</strong> (<em>type</em>) – Explanation of <cite>out</cite>.</p></li>
<li><p><em>type_without_description</em></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Other Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>only_seldom_used_keywords</strong> (<em>type</em>) – Explanation</p></li>
<li><p><strong>common_parameters_listed_above</strong> (<em>type</em>) – Explanation</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>BadException</strong> – Because you shouldn’t have done that.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.array</span></code></dt><dd><p>Relationship (optional).</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></dt><dd><p>Relationship (optional), which could be fairly long, in which case the line wraps here.</p>
</dd>
</dl>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.dot</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.linalg.norm</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.eye</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Notes about the implementation algorithm (if needed).</p>
<p>This can have multiple paragraphs.</p>
<p>You may include some math:</p>
<div class="math notranslate nohighlight">
\[X(e^{j\omega } ) = x(n)e^{ - j\omega n}\]</div>
<p>And even use a Greek symbol like <span class="math notranslate nohighlight">\(\omega\)</span> inline.</p>
<p class="rubric">References</p>
<p>Cite the relevant literature, e.g. <a class="footnote-reference brackets" href="#id2" id="id1">1</a>.  You may also cite these
references in the notes section above.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>O. McNoleg, “The integration of GIS, remote sensing,
expert systems and adaptive co-kriging for environmental habitat
modelling of the Highland Haggis using object-oriented, fuzzy-logic
and neural-network techniques,” Computers &amp; Geosciences, vol. 22,
pp. 585-588, 1996.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>These are written in doctest format, and should illustrate how to
use the function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">])</span>
<span class="go">[4, 5, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">b&quot;</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.cluster.kwtypes">
<code class="sig-prename descclassname">nbodypy.main.cluster.</code><code class="sig-name descname">kwtypes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.kwtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>kwtypes</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Print legend for converting kwtype (from NBODY6) to stellar evolution type</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.cluster.sub_cluster">
<code class="sig-prename descclassname">nbodypy.main.cluster.</code><code class="sig-name descname">sub_cluster</code><span class="sig-paren">(</span><em class="sig-param">cluster, rmin=None, rmax=None, mmin=None, mmax=None, vmin=None, vmax=None, emin=None, emax=None, kwmin=0, kwmax=15, indx=[None], projected=False, reset_centre=False, reset_nbody_scale=False, reset_nbody_mass=False, reset_nbody_radii=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.cluster.sub_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>sub_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Extract a sub population of stars from a StarCluster
Notes:</p>
<blockquote>
<div><p>– automatically moves cluster to centre of mass, so all constraints are in clustercentric coordinates and current cluster.units</p>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>rmin/rmax - minimum and maximum stellar radii</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (default:False)</p>
<p>reset_centre - re-calculate cluster centre after extraction (default:False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.functions">
<span id="nbodypy-main-functions-module"></span><h2>nbodypy.main.functions module<a class="headerlink" href="#module-nbodypy.main.functions" title="Permalink to this headline">¶</a></h2>
<p>FUNCTIONS</p>
<p>Designed to accept StarCluster instance as in put to
calculate key parameters</p>
<dl class="function">
<dt id="nbodypy.main.functions.closest_star">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">closest_star</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.closest_star" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.energies">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">energies</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">specific=True</em>, <em class="sig-param">i_d=None</em>, <em class="sig-param">full=True</em>, <em class="sig-param">parallel=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>energies</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate kinetic and potential energy of every star</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>specific - find specific energies (default: True)</p>
<p>i_d - find energies for a specific star</p>
<p>full - calculate distance of full array of stars at once with numbra (default: True)</p>
<p>parallel - calculate distances in parallel if True (default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>ek,pot,etot</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.eta_function">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">eta_function</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.eta_function" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>eta_function</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find eta over a given mass range using nmass bins containing an equal number of stars</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - specific mass range</p>
<p>nmass - number of mass bins used to calculate eta</p>
<p>rmin/rmax - specific radial range</p>
<p>vmin/vmax - specific velocity range</p>
<p>emin/emax - specific energy range</p>
<p>kwmin/kwmax - specific stellar evolution type range</p>
<p>indx - specific subset of stars</p>
<p>projected - use projected values</p>
<p>obs_cut - trim data to match an observed dataset (WIP)</p>
<p>plot - plot the mass function</p>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs - key words for plotting</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>m_mean,sigvm,eta,eeta,yeta,eyeta</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.mass_function">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">mass_function</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.mass_function" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>mass_function</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find mass function over a given mass range using nmass bins containing an equal number of stars</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance
mmin/mmax - specific mass range
nmass - number of mass bins used to calculate alpha
rmin/rmax - specific radial range
vmin/vmax - specific velocity range
emin/emax - specific energy range
kwmin/kwmax - specific stellar evolution type range
indx - specific subset of stars
projected - use projected values
obs_cut - trim data to match an observed dataset (WIP)
plot - plot the mass function
<a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs - key words for plotting</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>m_mean,m_hist,dm,alpha,ealpha,yalpha,eyalpha</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="nbodypy.main.functions.potential_energy">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">potential_energy</code><a class="headerlink" href="#nbodypy.main.functions.potential_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>potential_energy</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find potential energy for each star in a cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster=[x,y,z,m].T</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>energy</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="nbodypy.main.functions.potential_energy_parallel">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">potential_energy_parallel</code><a class="headerlink" href="#nbodypy.main.functions.potential_energy_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>potential_energy</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find potential energy for each star in a cluster (done in parallel)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster=[x,y,z,m].T</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>energy</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.relaxation_time">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">relaxation_time</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">local=False</em>, <em class="sig-param">multimass=True</em>, <em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.relaxation_time" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>relaxation_time</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate the relaxation time (Spitzer 1958) of the cluster (Default is half mass relaxation time)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>local - calcuate relaxation time at each lagrange bin (True) or the half mass radius (False) (default: False)</p>
<p>multimass - use multimass (True) or single mass (False) value for ln lambda (default: True)</p>
<p>projected - use projected values (default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>trelax</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.rlagrange">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">rlagrange</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">nlagrange=10</em>, <em class="sig-param">projected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.rlagrange" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rlagrange</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate lagrange radii of the cluster by mass
–&gt; Note units of lagrange radii will be equal to cluster.units</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance
nlagrange - number of lagrange radii bins (default: 10)
projected - calculate projected lagrange radii (default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rn</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.rvirial">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">rvirial</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">H=70.0</em>, <em class="sig-param">Om=0.3</em>, <em class="sig-param">overdens=200.0</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.rvirial" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rvirial</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate virial radius of the cluster
–&gt; Note: Here the virial radius is defined as the radius at which the density is equal to the critical</p>
<blockquote>
<div><p>density of the Universe at the redshift of the system, multiplied by an overdensity constant</p>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance
H - Hubble constant
Om - density of matter
overdens - overdensity constant
nrad - number of radial bins used to calculate cluster density profile
projected - calculate projected virial radius (default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rv</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.surface_area">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">surface_area</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">coords='xy'</em>, <em class="sig-param">thresh=None</em>, <em class="sig-param">nrand=1000</em>, <em class="sig-param">method='sphere'</em>, <em class="sig-param">full=False</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.surface_area" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>surface_area</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>calculate surface area enclosed by cluster by finding what fraction of a random distribution overlaps with points</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - specific mass range
rmin/rmax - specific radial range
vmin/vmax - specific velocity range
emin/emax - specific energy range
kwmin/kwmax - specific stellar evolution type range
indx - specific subset of stars
projected - use projected values</p>
<p>coords - choose axis to project cluster (Default: xy)</p>
<p>thresh - threshold for overlap between random distribution and points (Default: None - use maximum nearest neighbour)</p>
<p>nrand - number of random points to be generated in uniform distribution (Default: 1000)</p>
<p>method - generate spherical or rectangular distribution of random points (Default: sphere)</p>
<p>plot - plot overlap (Default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>area</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.virial_radius">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">virial_radius</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">full=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.virial_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>virial_radius</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate virial radius of the cluster
–&gt; Note: Here the virial radius is defined as the inverse of the</p>
<blockquote>
<div><p>average inverse distance between particles, weighted by their masses</p>
</div></blockquote>
<p>–&gt; Definition taken from AMUSE (www.amusecode.org)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance
projected - calculate projected virial radius (default: False)
full - Use Numba (default:True)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rv</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.functions.virialize">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">virialize</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">specific=True</em>, <em class="sig-param">full=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.functions.virialize" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>virialize</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Adjust stellar velocities so cluster is in virial equilibrium</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance
specific - find specific energies (default: True)
full - do full array of stars at once with numbra (default: True)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>qv</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="nbodypy.main.functions.weighted_inverse_distance_sum">
<code class="sig-prename descclassname">nbodypy.main.functions.</code><code class="sig-name descname">weighted_inverse_distance_sum</code><a class="headerlink" href="#nbodypy.main.functions.weighted_inverse_distance_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>weighted_inverse_distance_sum</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Find the sum of the mass weighted inverse distance for each star</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster=[x,y,z,m].T</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>weighted inverse distance sum</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.initialize">
<span id="nbodypy-main-initialize-module"></span><h2>nbodypy.main.initialize module<a class="headerlink" href="#module-nbodypy.main.initialize" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nbodypy.main.initialize.c_to_w0">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">c_to_w0</code><span class="sig-paren">(</span><em class="sig-param">c</em>, <em class="sig-param">invert=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.c_to_w0" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>c_to_w0</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert King central concentration (c) values to central potential (W0) values</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>c - central concentration</p>
<p>invert - convert from W0 to c instead, in which case the input c is the central potential (Default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>W0 (or c if invert==True)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_cluster">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_cluster</code><span class="sig-paren">(</span><em class="sig-param">gcname='list'</em>, <em class="sig-param">source='default'</em>, <em class="sig-param">mbar=0.4</em>, <em class="sig-param">names=False</em>, <em class="sig-param">params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Generate a StarCluster instance based on a Galactic Globular Cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><dl>
<dt>gcname - name of cluster (or clusters) to be modelled. Also accepts ‘list’ to simply print out</dt><dd><p>the list of clusters available and ‘all’ to generate each Galactic Globular Cluster</p>
</dd>
<dt>source - source of model parameters to generate cluster. Default looks to LIMEPY models from</dt><dd><blockquote>
<div><blockquote>
<div><p>de Boer et al. 2019 first before checking Harris 1996 (2010) edition second.</p>
</div></blockquote>
<ul class="simple">
<li><p>Can also specifiy de Boer et al. 2019 or Harris 1996 (2010) only</p></li>
</ul>
</div></blockquote>
<p>mbar - mean mass of stars in model</p>
<p>names - return names of clusters genereated (Default: False)</p>
<p>params -  return mass and size of clusters generate (Default: False)</p>
</dd>
</dl>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster (if gcname != ‘list’)</p>
<p>Name (if names==True)</p>
<p>Mtot and rm (if params ==True)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_deBoer_cluster">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_deBoer_cluster</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">gcname</em>, <em class="sig-param">mbar=0.4</em>, <em class="sig-param">names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_deBoer_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_deBoer_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Generate a StarCluster instance based on a measurements of Galactic Globular Clusters by de Boer et al. 2019
–&gt; Cluster is also assigned an orbit based on Vasiliev 2019</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>data - table of parameters from de Boer et al. 2019 (see ..tables)</p>
<dl class="simple">
<dt>gcname - name of cluster (or clusters) to be modelled. Also accepts ‘list’ to simply print out</dt><dd><p>the list of clusters available and ‘all’ to generate each Galactic Globular Cluster</p>
</dd>
</dl>
<p>mbar - mean mass of stars in model</p>
<p>names - return names of clusters genereated (Default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_harris_cluster">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_harris_cluster</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">gcname</em>, <em class="sig-param">mbar=0.4</em>, <em class="sig-param">names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_harris_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_harris_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Generate a StarCluster instance based on the Harris 1996 (2010 Edition) catalogue of Galactic Globular Clusters
–&gt; Cluster is also assigned an orbit based on Vasiliev 2019</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>data - table of parameters from Harris 1996 (2010 Edition) (see ..tables)</p>
<dl class="simple">
<dt>gcname - name of cluster (or clusters) to be modelled. Also accepts ‘list’ to simply print out</dt><dd><p>the list of clusters available and ‘all’ to generate each Galactic Globular Cluster</p>
</dd>
</dl>
<p>mbar - mean mass of stars in model</p>
<p>names - return names of clusters genereated (Default: False)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_limepy">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_limepy</code><span class="sig-paren">(</span><em class="sig-param">g=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_limepy" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_limepy</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Get an Nbody realization of a LIMEPY model cluster (REFERENCE)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>g - model type for LIMEPY</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>phi0 - Central potential</p>
<p>project - return projected values</p>
<p>M - cluster mass</p>
<p>r0/rh/rv/rt - radius used for scaling population from model units (scale,half-mass,virial,limitig radius)</p>
<p>N - number of stars to generate in model cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_plummer">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_plummer</code><span class="sig-paren">(</span><em class="sig-param">M</em>, <em class="sig-param">rm</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_plummer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.get_spes">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">get_spes</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.get_spes" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_spes</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Get an Nbody realization of a SPES model cluster (REFERENCE)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>phi0 - Central potential</p>
<p>project - return projected values</p>
<p>B - B parameter</p>
<p>eta - eta parameter</p>
<p>fpe - fpe parameter</p>
<p>M - cluster mass</p>
<p>r0/rh/rv/rt - radius used for scaling population from model units (scale,half-mass,virial,limitig radius)</p>
<p>N - number of stars to generate in model cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.setup_cluster">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">setup_cluster</code><span class="sig-paren">(</span><em class="sig-param">ctype</em>, <em class="sig-param">units0='realpc'</em>, <em class="sig-param">origin0='cluster'</em>, <em class="sig-param">orbit=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.setup_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>setup_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Setup an N-body realization of a StarCluster with specific parameters
–&gt; Relies heavily on LIMEPY/SPES models (REFERENCE)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><dl class="simple">
<dt>ctype - Type of model used to generate cluster (‘SPES’,LIMEPY’,’WOOLEY’,’KING’,’WILSON’,Name/List of Galactic Clusters)</dt><dd><p>–&gt; To add: PLUMMER</p>
</dd>
</dl>
<p>units0 - units of generated model (Default: ‘realpc’)</p>
<p>origin0 - origin of generated model (Default: ‘cluster’)</p>
<p>orbit - Galpy orbit of cluster to be generate</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>g - model type for LIMEPY</p>
<p>M/rh - Mass and half-mass radius of cluster (for Plummer)</p>
<dl class="simple">
<dt>source - Source for extracting Galactic GC parameters (Harris 1996 (2010 Edition), de Boer et al. 2019). The default checks</dt><dd><p>de Boer et al. 2019 first and then pulls from Harris 1996 (2010 Edition) if no cluster found</p>
</dd>
</dl>
<p>mbar - mean mass of stars in the cluster (only single mass models available at the moment)</p>
<p>names - return names of Galactic clusters generate (Default: False)</p>
<p class="attribution">—Additional KWARGS passed to get_limepy, and get_spes</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.initialize.w0_to_c">
<code class="sig-prename descclassname">nbodypy.main.initialize.</code><code class="sig-name descname">w0_to_c</code><span class="sig-paren">(</span><em class="sig-param">w0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.initialize.w0_to_c" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>w0_to_c</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert central potential (W0) values to King central concentration (c)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>W0 - central potential</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>c</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.load">
<span id="nbodypy-main-load-module"></span><h2>nbodypy.main.load module<a class="headerlink" href="#module-nbodypy.main.load" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nbodypy.main.load.advance_cluster">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">advance_cluster</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">orbit=None</em>, <em class="sig-param">filename=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.advance_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>advance_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Advance a loaded StarCluster snapshot to the next timestep
–&gt; ofile or orbit need to be provded again, same as load_cluster.
–&gt; Be sure that advance is set to True so next line of orbit file is read in</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>filename - name of file to be opened (optional - necessary if no defaults assigned to ctype) (default: None)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_advanced_kwargs">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_advanced_kwargs</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_advanced_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_advanced_kwargs</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>get <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs from current cluster before advancing</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same a load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_amuse_particles">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_amuse_particles</code><span class="sig-paren">(</span><em class="sig-param">particles</em>, <em class="sig-param">npyunits='realkpc'</em>, <em class="sig-param">npyorigin='galaxy'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_amuse_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_amuse_particles</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Convert AMUSE particle dataset to a StarCluster instance</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>particles - AMUSE particle dataset</p>
<p>npyunits - units of input data (default: realkpc)</p>
<p>npyorigin - origin of input data (default: cluster)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_cluster_orbit">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_cluster_orbit</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">ofile</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_cluster_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_cluster_orbit</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><dl>
<dt>Read in cluster oribit from an ascii file and apply it to StarCluster instance</dt><dd><p>–&gt;Columns assumed to be time,x,y,z,vx,vy,vz.
–&gt;As I have hardcoded for gc_orbit.dat, if a certain filename is commonly used
with specific columns, an if statement can easily be added.</p>
<blockquote>
<div><p>–&gt; Note that gc_orbit.dat comes from running ‘grep ‘CLUSTER ORBIT’ logfile &gt; gc_orbit.dat’ on
the standard Nbody6 logfile</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>ofile - opened orbit file</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>advance - Is this a continuation from a previous timestep, in which case read next line (default: False)
nsnap - if nsnap is provided, read line # nsnap from the orbit file
ounits - if you units are not the same as StarCluster units, provide them and they will be converted</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_gyrfalcon">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_gyrfalcon</code><span class="sig-paren">(</span><em class="sig-param">filein</em>, <em class="sig-param">units='WDunits'</em>, <em class="sig-param">origin='galaxy'</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_gyrfalcon" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_gyrfalcon</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Extract a single snapshot from an ascii file output from a gyrfalcon simulation</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>filein - opened gyrfalcon file</p>
<p>units - units of data (default:’WDunits’)</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_kwtype">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_kwtype</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">kwfile</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_kwtype" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_kwtype</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Get stellar evolution type of the star (kw in Nbody6 syntax) if information is in a separate file
–&gt; Columns assumed to be ID, KW
–&gt; see def kwtypes() in cluster.py for what different kw types mean</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>kwfile - opened file containing kw type</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>advance - Is this a continuation from a previous timestep, in which case read next line (default: False)
nsnap - if nsnap is provided, read line # nsnap from the orbit file
ounits - if you units are not the same as StarCluster units, provide them and they will be converted</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_mycode">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_mycode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_mycode" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_mycode</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Empty shell for a new user to write their own routine for reading in data and generating a StarCluster instance
–&gt; Easiest to build around get_snapshot if files are separated</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>TBD</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>XXXX - Written - XXXX</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_nbody6_jarrod">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_nbody6_jarrod</code><span class="sig-paren">(</span><em class="sig-param">fort82</em>, <em class="sig-param">fort83</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_nbody6_jarrod" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_nbody6_jarrod</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Extract a single snapshot from the fort.82 and fort.83 files output by Jarrod Hurleys version of Nbody6
–&gt; Difference between Jarrod’s output and the public version is found in /Node/hrplot.f of Nbody6
–&gt; Called for Nbody6 simulations with stellar evolution</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>fort82 - opened fort.82 file containing binary star information</p>
<p>fort83 - opened fort.83 file containing single star information</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_nbody6_out">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_nbody6_out</code><span class="sig-paren">(</span><em class="sig-param">out9</em>, <em class="sig-param">out34</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_nbody6_out" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_nbody6_out34</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Extract a single snapshot from the OUT9 and OUT34 output of Jeremy Webb’s version of Nbody6
–&gt; Difference between Jeremy’s output and the public version is found in /Node/output.f of Nbody6
–&gt; Called for Nbody6 simulations without stellar evolution</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>out9 - opened OUT34 file containing binary star information</p>
<p>out34 - opened OUT34 file containing single star information</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_nbody6_out34">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_nbody6_out34</code><span class="sig-paren">(</span><em class="sig-param">out34</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_nbody6_out34" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_nbody6_out34</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Extract a single snapshot from the OUT34 output of Jeremy Webb’s version of Nbody6
–&gt; Difference between Jeremy’s output and the public version is found in /Node/output.f of Nbody6
–&gt; Called for Nbody6 simulations without stellar evolution</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>out34 - opened OUT34 file containing single star information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_nbody6_snapauto">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_nbody6_snapauto</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">units='realpc'</em>, <em class="sig-param">origin='cluster'</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_nbody6_snapauto" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_nbody6_snapauto</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Load a single snapshot as produced by Jongsuk Hong’s snpauto.f routine for extracting snapshots from
Nbody6 and Nbody6++ binary files</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>filename = name of file</p>
<p>units - units of input data (default: realkpc)</p>
<p>origin - origin of input data (default: cluster)</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_nbodypy_snapshot">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_nbodypy_snapshot</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">units='realpc'</em>, <em class="sig-param">origin='cluster'</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_nbodypy_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_nbodypy_snapshot</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Load a single snapshot as produced by nbodypy’s snapout routine</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>filename = name of file</p>
<p>units - units of input data (default: realkpc)</p>
<p>origin - origin of input data (default: cluster)</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_snapshot">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_snapshot</code><span class="sig-paren">(</span><em class="sig-param">filename=None, tphys=0.0, ctype='snapshot', col_names=['m', 'x', 'y', 'z', 'vx', 'vy', 'vz'], col_nums=[0, 1, 2, 3, 4, 5, 6], units='realpc', origin='cluster', ofile=None, advance=False, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_snapshot</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Load a generic snapshot where column names and numbers can be manually assigned</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>ctype - code used to generate data (nbody6/nbody6se/gyrfalcon/…)</p>
<p>filename - name of file</p>
<p>col_names - names corresponding to mass, position, and velocity</p>
<p>col_nums - column numbers corresponding to each column name</p>
<p>units - units of input data (default: realkpc)</p>
<p>origin - origin of input data (default: cluster)</p>
<p>ofile - opened file containing orbital information</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.get_snaptrim">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">get_snaptrim</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">units='WDunits'</em>, <em class="sig-param">origin='galaxy'</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">advance=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.get_snaptrim" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_snaptrim</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Load a gyrfalcon snapshot as produced by snaptrim</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>filename = name of file</p>
<p>units - units of input data (default: WDunits)</p>
<p>origin - origin of input data (default: galaxy)</p>
<p>advance - is this a snapshot that has been advanced to from initial load_cluster?</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as load_cluster</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.load.load_cluster">
<code class="sig-prename descclassname">nbodypy.main.load.</code><code class="sig-name descname">load_cluster</code><span class="sig-paren">(</span><em class="sig-param">ctype='snapshot'</em>, <em class="sig-param">units='realpc'</em>, <em class="sig-param">origin='cluster'</em>, <em class="sig-param">ofile=None</em>, <em class="sig-param">orbit=None</em>, <em class="sig-param">filename=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.load.load_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>load_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Load a StarCluster snapshot from a generic code output
–&gt; Note user can easily create their own def my_code() for new code output types</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>ctype - Type of file being loaded (Currently supports nbody6, nbody6se, gyrfalcon, snaptrim,snapauto, nbodypy, snapshot)</p>
<p>units - units of input data (default: realkpc)</p>
<p>origin - origin of input data (default: cluster)</p>
<p>ofile - an already opened file containing orbit information (default: None)</p>
<p>orbit - a galpy orbit to be used for the StarCluster’s orbital information (default: None)</p>
<p>filename - name of file to be opened (optional - necessary if no defaults assigned to ctype) (default: None)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>ofilename - orbit filename if ofile is not given</p>
<p>ounits - units of orbital information (else assumed equal to StarCluster.units)</p>
<p>nsnap - if a specific snapshot is to be read in instead of starting from zero</p>
<p>nzfill - value for zfill when reading and writing snapshots (Default: 5)</p>
<p>delimiter - choice of delimiter when reading ascii/csv files (Default: ‘,’)</p>
<p>wdir - working directory of snapshots if not current directory</p>
<p>intialize - initialize a galpy orbit after reading in orbital information (default: False)</p>
<p>kwfile - open file containing stellar evolution type (kw) of individual stars (used if snapshot file does not contain kw and kw is needed)</p>
<p>projected - calculate projected values as well as 3D values (Default: True)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>StarCluster instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.operations">
<span id="nbodypy-main-operations-module"></span><h2>nbodypy.main.operations module<a class="headerlink" href="#module-nbodypy.main.operations" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nbodypy.main.operations.add_rotation">
<code class="sig-prename descclassname">nbodypy.main.operations.</code><code class="sig-name descname">add_rotation</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">qrot</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.operations.add_rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>add_rotation</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Add a degree of rotation to an already generated StarCluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>qrot - the fraction of stars with v_phi &lt; 0 that are switched to vphi &gt; 0</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.operations.reset_nbody_scale">
<code class="sig-prename descclassname">nbodypy.main.operations.</code><code class="sig-name descname">reset_nbody_scale</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mass=True</em>, <em class="sig-param">radii=True</em>, <em class="sig-param">rvirial=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.operations.reset_nbody_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>reset_nbody_scale</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Assign new conversions for real mass, size, and velocity to Nbody units</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mass - find new mass conversion (Default: True)</p>
<p>radii - find new radius conversion (Default: True)</p>
<p>rvirial - use virial radius to set conversion rate for radii as opposed to the approximation that rbar=4/3 rm</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>same as rvirial</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.operations.return_cluster">
<code class="sig-prename descclassname">nbodypy.main.operations.</code><code class="sig-name descname">return_cluster</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">units0</em>, <em class="sig-param">origin0</em>, <em class="sig-param">do_order=False</em>, <em class="sig-param">do_key_params=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.operations.return_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>return_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>return cluster to a specific combination of units and origin</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>units0 - units that StarCluster will be changed to</p>
<p>origin0 - origin that StarCluster will be changed to</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.operations.rotate_to_stream">
<code class="sig-prename descclassname">nbodypy.main.operations.</code><code class="sig-name descname">rotate_to_stream</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.operations.rotate_to_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rotate_to_stream</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Rotate the coordinate system to be aligned with cluster’s orbit (Work in progress)</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.operations.save_cluster">
<code class="sig-prename descclassname">nbodypy.main.operations.</code><code class="sig-name descname">save_cluster</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.operations.save_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>save_cluster</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Save cluster’s units and origin</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>units, origin</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.orbit">
<span id="nbodypy-main-orbit-module"></span><h2>nbodypy.main.orbit module<a class="headerlink" href="#module-nbodypy.main.orbit" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nbodypy.main.orbit.calc_actions">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">calc_actions</code><span class="sig-paren">(</span><em class="sig-param">cluster, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], r0=8.0, v0=220.0, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.calc_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>calc_actions</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate action angle values for each star</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>pot - GALPY potential used to calculate actions</p>
<p>r0,v0 - GALPY scaling parameters</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>type - method for calculating actions (default: staeckel)</p>
<p>delta - focus for staeckel method (default: 0.45 - optimal for MWPotential2014)</p>
<p>c - if True, always use C for calculations</p>
<p>Additional KWARGS can be included for other action angle calculation methods in galpy</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>JR,Jphi,Jz,OR,Ophi,Oz,TR,Tphi,Tz</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.get_cluster_orbit">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">get_cluster_orbit</code><span class="sig-paren">(</span><em class="sig-param">gcname='list'</em>, <em class="sig-param">names=False</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.get_cluster_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>get_cluster_orbit</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Get the measured orbital parameters of a Galactic globular cluster has measured by Vasiliev 2019 using Gaia DR2</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><dl class="simple">
<dt>gcname - name or list of GC names whose orbits are to be retrieved</dt><dd><p>–&gt; Note that list just returns the list to read, while ‘all’ gets the orbits for all the clusters</p>
</dd>
</dl>
<p>names - return a list of cluster names on top of the orbit instances</p>
<p>pot - GALPY potential used to calculate actions</p>
<p>r0,v0 - GALPY scaling parameters</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>type - method for calculating actions (default: staeckel)</p>
<p>delta - focus for staeckel method (default: 0.45 - optimal for MWPotential2014)</p>
<p>c - if True, always use C for calculations</p>
<p>Additional KWARGS can be included for other action angle calculation methods in galpy</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>o (if names == False)
o, names (if names==True)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.initialize_orbit">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">initialize_orbit</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">from_centre=False</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.initialize_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>initialize_orbit</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Initialize a galpy orbit instance for the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>from_centre - genrate orbit from cluster’s assigned galactocentric coordinates (default) or from its centre</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>orbit instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.initialize_orbits">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">initialize_orbits</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">r0=8.0</em>, <em class="sig-param">v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.initialize_orbits" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>initialize_orbits</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Initialize a galpy orbit for every stars in the cluster
–&gt; Note currently depends on version of galpy with Orbits, which is soon to be replace by a generic Orbit function</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>orbit instance for each stars</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.integrate_orbit">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">integrate_orbit</code><span class="sig-paren">(</span><em class="sig-param">cluster, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], tfinal=12.0, nt=1000, r0=8.0, v0=220.0, plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.integrate_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>integrate_orbit</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Integrate a galpy orbit instance for the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>tfinal - final time (in Gyr) to integrate orbit to (Default: 12 Gyr)</p>
<p>nt - number of timesteps</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
<p>plot - show plot of cluster’s orbit</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>timesteps, orbit instance</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.orbit_interpolate">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">orbit_interpolate</code><span class="sig-paren">(</span><em class="sig-param">cluster, dt, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], from_centre=False, do_tails=False, rmin=None, rmax=None, emin=None, emax=None, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.orbit_interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>orbit_interpolate</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Move the cluster centre and stars backwards or forwards along its orbit assuming stars only feel a force from the galaxy</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>dt - timestep that StarCluster is to be moved to</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>from_centre - interpolate from cluster’s define position (default) or the measured centre of cluster</p>
<p>do_tails - interpolate the orbits of tail stars separately (Default: False)</p>
<p>rmin/rmax - radial range corresponding to cluster (needed to identify tail stars)</p>
<p>emin/emax - energy range corresponding to cluster (needed to identify tail stars)</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.orbital_path">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">orbital_path</code><span class="sig-paren">(</span><em class="sig-param">cluster, dt=0.1, nt=100, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], from_centre=False, skypath=False, initialize=False, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.orbital_path" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>orbital_path</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate orbital path +/- dt Gyr around the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>dt - timestep that StarCluster is to be moved to</p>
<p>nt - number of timesteps</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>from_centre - interpolate from cluster’s define position (default) or the measured centre of cluster</p>
<p>sky_path - return sky coordinates instead of cartesian coordinates (Default: False)</p>
<p>initialize - Initialize and return Orbit (Default: False)</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>t,x,y,z,vx,vy,vz</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.orbital_path_match">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">orbital_path_match</code><span class="sig-paren">(</span><em class="sig-param">cluster, dt=0.1, nt=100, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], from_centre=False, to_path=False, do_full=False, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.orbital_path_match" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>orbital_path_match</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Match stars to a position along the orbital path of the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>dt - timestep that StarCluster is to be moved to</p>
<p>nt - number of timesteps</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>from_centre - interpolate from cluster’s define position (default) or the measured centre of cluster</p>
<p>to_path - measure distance to central point along the path (Default) or to the path itself</p>
<p>do_full - calculate dpath all at once in a single numpy array (can be memory intensive) (Default:False)</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>tstar - orbital time associated with star</p>
<p>dprog - distance along the orbit to the progenitor</p>
<p>dpath - distance to centre of the orbital path bin (Default) or the orbit path (to_path = True)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.rlimiting">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">rlimiting</code><span class="sig-paren">(</span><em class="sig-param">cluster, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], rgc=None, r0=8.0, v0=220.0, nrad=20, projected=False, obs_cut=False, plot=False, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.rlimiting" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rlimiting</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate limiting radius of the cluster
–&gt; The limiting radius is defined to be where the cluster’s density reaches the local background density of the host galaxy</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>pot - GALPY potential used to calculate actions</p>
<p>rgc - Set galactocentric distance at which the tidal radius is to be evaluated</p>
<p>r0,v0 - GALPY scaling parameters</p>
<p>nrad - number of radial bins used to calculate density profile (Default: 20)</p>
<p>projected - use projected values (Default: False)</p>
<p>obs_cut - apply an observational mask over the dataset (Default: False)</p>
<p>plot - plot the density profile and mark the limiting radius of the cluster (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as ..util.plots.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rl</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.rtidal">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">rtidal</code><span class="sig-paren">(</span><em class="sig-param">cluster, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], rtiterate=0, rtconverge=0.9, rgc=None, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.rtidal" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rtidal</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate tidal radius of the cluster
–&gt; The calculation uses Galpy, which takes the formalism of Bertin &amp; Varri 2008 to calculate the tidal radius
–&gt; riterate = 0 corresponds to a single calculation of the tidal radius based on the cluster’s mass (cluster.mtot)
–&gt; More iterations take the mass within the previous iterations calculation of the tidal radius and calculates the tidal</p>
<blockquote>
<div><p>radius again until the change is less than 90%</p>
</div></blockquote>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>pot - GALPY potential used to calculate actions</p>
<p>rtiterate - how many times to iterate on the calculation of r_t</p>
<p>rtconverge - criteria for tidal radius convergence within iterations</p>
<p>rgc - Set galactocentric distance at which the tidal radius is to be evaluated</p>
<p>r0,v0 - GALPY scaling parameters</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rt</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.stream_path">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">stream_path</code><span class="sig-paren">(</span><em class="sig-param">cluster, dt=0.1, nt=100, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], from_centre=False, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.stream_path" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>stream_path</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Calculate stream path +/- dt Gyr around the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>dt - timestep that StarCluster is to be moved to</p>
<p>nt - number of timesteps</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>from_centre - interpolate from cluster’s define position (default) or the measured centre of cluster</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>t,x,y,z,vx,vy,vz</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)
2019 - Implemented numpy array preallocation to minimize runtime - Nathaniel Starkman (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.orbit.stream_path_match">
<code class="sig-prename descclassname">nbodypy.main.orbit.</code><code class="sig-name descname">stream_path_match</code><span class="sig-paren">(</span><em class="sig-param">cluster, dt=0.1, nt=100, pot=[&lt;galpy.potential.PowerSphericalPotentialwCutoff.PowerSphericalPotentialwCutoff object&gt;, &lt;galpy.potential.MiyamotoNagaiPotential.MiyamotoNagaiPotential object&gt;, &lt;galpy.potential.TwoPowerSphericalPotential.NFWPotential object&gt;], from_centre=False, to_path=False, do_full=False, r0=8.0, v0=220.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.orbit.stream_path_match" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>stream_path_match</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Match stars to a position along the stream path of the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster</p>
<p>dt - timestep that StarCluster is to be moved to</p>
<p>nt - number of timesteps</p>
<p>pot - Potential orbit is to be integrate in (Default: MWPotential2014)</p>
<p>from_centre - interpolate from cluster’s define position (default) or the measured centre of cluster</p>
<p>to_path - measure distance to central point along the path (Default) or to the path itself</p>
<p>r0 - galpy distance scale (Default: 8.)</p>
<p>v0 - galpy velocity scale (Default: 220.)</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>tstar - stream time associated with star</p>
<p>dprog - distance along the stream to the progenitor</p>
<p>dpath - distance to centre of the stream path bin (Default) or the stream path (to_path = True)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main.profiles">
<span id="nbodypy-main-profiles-module"></span><h2>nbodypy.main.profiles module<a class="headerlink" href="#module-nbodypy.main.profiles" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nbodypy.main.profiles.alpha_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">alpha_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.alpha_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>alpha_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the radial variation in the mass function</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>nmass - number of mass bins to calculate slope of mass function</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>lrprofn - natural log of radius (normalized by half-mass radius)</p>
<p>aprof - slope of the mass function</p>
<p>dalpha - delta_alpha = d(alpha)/d(ln(r/rm)</p>
<p>edalpha - error in dalpha</p>
<p>ydalpha,eydalpha - y-intercept and error in fit to alpha vs ln(r/rm)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.eta_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">eta_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">nmass=10</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=1</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.eta_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>eta_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the radial variation in eta</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>nmass - number of mass bins over which to measure eta</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>lrprofn - natural log of radius (normalized by half-mass radius)</p>
<p>eprof - slope of the sigma_v-mass function</p>
<p>deta - deta = d(eta)/d(ln(r/rm)</p>
<p>edeta - error in deta</p>
<p>ydeta,eydeta - y-intercept and error in fit to eta vs ln(r/rm)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.m_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">m_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">cumulative=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.m_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>m_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the mass profile of the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>cumalitive - determine the cumulative mass profile instead (Default: False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rprof,mprof,nprof (radius, mass, number of stars)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.rho_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">rho_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.rho_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>rho_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the density profile of the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rprof,pprof,nprof (radius, density, number of stars)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.sigv_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">sigv_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.sigv_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>sigv_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the radial variation in the velocity dispersion</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>lrprofn - natural log of radius (normalized by half-mass radius)</p>
<p>sigvprof - velocity dispersion</p>
<p>betaprof - anisotropy parameter</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.v_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">v_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.v_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>v_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the radial variation in the mean velocity</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>lrprofn - natural log of radius (normalized by half-mass radius)</p>
<p>vprof - mean velocity</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2018 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="nbodypy.main.profiles.vcirc_prof">
<code class="sig-prename descclassname">nbodypy.main.profiles.</code><code class="sig-name descname">vcirc_prof</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">mmin=None</em>, <em class="sig-param">mmax=None</em>, <em class="sig-param">rmin=None</em>, <em class="sig-param">rmax=None</em>, <em class="sig-param">nrad=20</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">emin=None</em>, <em class="sig-param">emax=None</em>, <em class="sig-param">kwmin=0</em>, <em class="sig-param">kwmax=15</em>, <em class="sig-param">indx=None</em>, <em class="sig-param">projected=False</em>, <em class="sig-param">obs_cut=None</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nbodypy.main.profiles.vcirc_prof" title="Permalink to this definition">¶</a></dt>
<dd><p>NAME:</p>
<blockquote>
<div><p>vcirc_prof</p>
</div></blockquote>
<p>PURPOSE:</p>
<blockquote>
<div><p>Measure the circulr velocity profile of the cluster</p>
</div></blockquote>
<p>INPUT:</p>
<blockquote>
<div><p>cluster - StarCluster instance</p>
<p>mmin/mmax - minimum and maximum stellar mass</p>
<p>rmin/rmax - minimum and maximum stellar radii</p>
<p>nrad - number of radial bins</p>
<p>vmin/vmax - minimum and maximum stellar velocity</p>
<p>emin/emax - minimum and maximum stellar energy</p>
<p>kwmin/kwmax - minimum and maximum stellar type (kw)</p>
<p>indx - user defined boolean array from which to extract the subset</p>
<p>projected - use projected values and constraints (Default:False)</p>
<p>obs_cut - apply an observational mask to the dataset (Default: False)</p>
<p>plot - plot the density profile (Default: False)</p>
</div></blockquote>
<p>KWARGS:</p>
<blockquote>
<div><p>Same as for ..util.plot.nplot</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><p>rprof,vprof,rvmax,vmax (radius, circular velocity, radius of maximum virc, maximum vcirc)</p>
</div></blockquote>
<p>HISTORY:</p>
<blockquote>
<div><p>2019 - Written - Webb (UofT)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-nbodypy.main">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nbodypy.main" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">nbodypy</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Jeremy J. Webb.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/nbodypy.main.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>